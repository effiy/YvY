# 原始URL: https://github.com/getomni-ai/zerox

# 抓取时间: 2025-03-30 21:13:44

[Skip to content](https://github.com/getomni-ai/zerox#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgetomni-ai%2Fzerox)
  * Product 
    * [ GitHub Copilot Write better code with AI  ](https://github.com/features/copilot)
    * [ Security Find and fix vulnerabilities  ](https://github.com/features/security)
    * [ Actions Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues Plan and track work  ](https://github.com/features/issues)
    * [ Code Review Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ Advanced Security Enterprise-grade security features  ](https://github.com/enterprise/advanced-security)
    * [ Copilot for business Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgetomni-ai%2Fzerox)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=getomni-ai%2Fzerox) Reseting focus
You signed in with another tab or window. [Reload](https://github.com/getomni-ai/zerox) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/getomni-ai/zerox) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/getomni-ai/zerox) to refresh your session. Dismiss alert
{{ message }}
[ getomni-ai ](https://github.com/getomni-ai) / **[zerox](https://github.com/getomni-ai/zerox) ** Public
  * [ Notifications ](https://github.com/login?return_to=%2Fgetomni-ai%2Fzerox) You must be signed in to change notification settings
  * [ Fork 703 ](https://github.com/login?return_to=%2Fgetomni-ai%2Fzerox)
  * [ Star  10.7k ](https://github.com/login?return_to=%2Fgetomni-ai%2Fzerox)


OCR & Document Extraction using vision models 
[getomni.ai/ocr-demo](https://getomni.ai/ocr-demo "https://getomni.ai/ocr-demo")
### License
[ MIT license ](https://github.com/getomni-ai/zerox/blob/main/LICENSE)
[ 10.7k stars ](https://github.com/getomni-ai/zerox/stargazers) [ 703 forks ](https://github.com/getomni-ai/zerox/forks) [ Branches ](https://github.com/getomni-ai/zerox/branches) [ Tags ](https://github.com/getomni-ai/zerox/tags) [ Activity ](https://github.com/getomni-ai/zerox/activity)
[ Star  ](https://github.com/login?return_to=%2Fgetomni-ai%2Fzerox)
[ Notifications ](https://github.com/login?return_to=%2Fgetomni-ai%2Fzerox) You must be signed in to change notification settings
  * [ Code ](https://github.com/getomni-ai/zerox)
  * [ Issues 48 ](https://github.com/getomni-ai/zerox/issues)
  * [ Pull requests 11 ](https://github.com/getomni-ai/zerox/pulls)
  * [ Actions ](https://github.com/getomni-ai/zerox/actions)
  * [ Projects 0 ](https://github.com/getomni-ai/zerox/projects)
  * [ Security ](https://github.com/getomni-ai/zerox/security)
  * [ Insights ](https://github.com/getomni-ai/zerox/pulse)


Additional navigation options
  * [ Code  ](https://github.com/getomni-ai/zerox)
  * [ Issues  ](https://github.com/getomni-ai/zerox/issues)
  * [ Pull requests  ](https://github.com/getomni-ai/zerox/pulls)
  * [ Actions  ](https://github.com/getomni-ai/zerox/actions)
  * [ Projects  ](https://github.com/getomni-ai/zerox/projects)
  * [ Security  ](https://github.com/getomni-ai/zerox/security)
  * [ Insights  ](https://github.com/getomni-ai/zerox/pulse)


# getomni-ai/zerox
main
[Branches](https://github.com/getomni-ai/zerox/branches)[Tags](https://github.com/getomni-ai/zerox/tags)
[](https://github.com/getomni-ai/zerox/branches)[](https://github.com/getomni-ai/zerox/tags)
Go to file
Code
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
## Latest commit
## History
[433 Commits](https://github.com/getomni-ai/zerox/commits/main/)[](https://github.com/getomni-ai/zerox/commits/main/)  
[.github/workflows](https://github.com/getomni-ai/zerox/tree/main/.github/workflows "This path skips through empty directories")| [.github/workflows](https://github.com/getomni-ai/zerox/tree/main/.github/workflows "This path skips through empty directories")  
[assets](https://github.com/getomni-ai/zerox/tree/main/assets "assets")| [assets](https://github.com/getomni-ai/zerox/tree/main/assets "assets")  
[examples/node](https://github.com/getomni-ai/zerox/tree/main/examples/node "This path skips through empty directories")| [examples/node](https://github.com/getomni-ai/zerox/tree/main/examples/node "This path skips through empty directories")  
[node-zerox](https://github.com/getomni-ai/zerox/tree/main/node-zerox "node-zerox")| [node-zerox](https://github.com/getomni-ai/zerox/tree/main/node-zerox "node-zerox")  
[py_zerox](https://github.com/getomni-ai/zerox/tree/main/py_zerox "py_zerox")| [py_zerox](https://github.com/getomni-ai/zerox/tree/main/py_zerox "py_zerox")  
[shared](https://github.com/getomni-ai/zerox/tree/main/shared "shared")| [shared](https://github.com/getomni-ai/zerox/tree/main/shared "shared")  
[.editorconfig](https://github.com/getomni-ai/zerox/blob/main/.editorconfig ".editorconfig")| [.editorconfig](https://github.com/getomni-ai/zerox/blob/main/.editorconfig ".editorconfig")  
[.gitignore](https://github.com/getomni-ai/zerox/blob/main/.gitignore ".gitignore")| [.gitignore](https://github.com/getomni-ai/zerox/blob/main/.gitignore ".gitignore")  
[.npmignore](https://github.com/getomni-ai/zerox/blob/main/.npmignore ".npmignore")| [.npmignore](https://github.com/getomni-ai/zerox/blob/main/.npmignore ".npmignore")  
[.pre-commit-config.yaml](https://github.com/getomni-ai/zerox/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml")| [.pre-commit-config.yaml](https://github.com/getomni-ai/zerox/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml")  
[LICENSE](https://github.com/getomni-ai/zerox/blob/main/LICENSE "LICENSE")| [LICENSE](https://github.com/getomni-ai/zerox/blob/main/LICENSE "LICENSE")  
[MANIFEST.in](https://github.com/getomni-ai/zerox/blob/main/MANIFEST.in "MANIFEST.in")| [MANIFEST.in](https://github.com/getomni-ai/zerox/blob/main/MANIFEST.in "MANIFEST.in")  
[Makefile](https://github.com/getomni-ai/zerox/blob/main/Makefile "Makefile")| [Makefile](https://github.com/getomni-ai/zerox/blob/main/Makefile "Makefile")  
[README.md](https://github.com/getomni-ai/zerox/blob/main/README.md "README.md")| [README.md](https://github.com/getomni-ai/zerox/blob/main/README.md "README.md")  
[commitlint.config.js](https://github.com/getomni-ai/zerox/blob/main/commitlint.config.js "commitlint.config.js")| [commitlint.config.js](https://github.com/getomni-ai/zerox/blob/main/commitlint.config.js "commitlint.config.js")  
[jest.config.js](https://github.com/getomni-ai/zerox/blob/main/jest.config.js "jest.config.js")| [jest.config.js](https://github.com/getomni-ai/zerox/blob/main/jest.config.js "jest.config.js")  
[package-lock.json](https://github.com/getomni-ai/zerox/blob/main/package-lock.json "package-lock.json")| [package-lock.json](https://github.com/getomni-ai/zerox/blob/main/package-lock.json "package-lock.json")  
[package.json](https://github.com/getomni-ai/zerox/blob/main/package.json "package.json")| [package.json](https://github.com/getomni-ai/zerox/blob/main/package.json "package.json")  
[poetry.lock](https://github.com/getomni-ai/zerox/blob/main/poetry.lock "poetry.lock")| [poetry.lock](https://github.com/getomni-ai/zerox/blob/main/poetry.lock "poetry.lock")  
[pyproject.toml](https://github.com/getomni-ai/zerox/blob/main/pyproject.toml "pyproject.toml")| [pyproject.toml](https://github.com/getomni-ai/zerox/blob/main/pyproject.toml "pyproject.toml")  
[setup.cfg](https://github.com/getomni-ai/zerox/blob/main/setup.cfg "setup.cfg")| [setup.cfg](https://github.com/getomni-ai/zerox/blob/main/setup.cfg "setup.cfg")  
[setup.py](https://github.com/getomni-ai/zerox/blob/main/setup.py "setup.py")| [setup.py](https://github.com/getomni-ai/zerox/blob/main/setup.py "setup.py")  
View all files  
## Repository files navigation
  * [README](https://github.com/getomni-ai/zerox)
  * [MIT license](https://github.com/getomni-ai/zerox)


[![Hero Image](https://github.com/getomni-ai/zerox/raw/main/assets/heroImage.png)](https://github.com/getomni-ai/zerox/blob/main/assets/heroImage.png)
## Zerox OCR
[](https://github.com/getomni-ai/zerox#zerox-ocr)
[ ![Join us on Discord](https://private-user-images.githubusercontent.com/30934424/375571578-cccc0e9a-e3b2-425e-9b54-e5024681b129.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDMzNDA3MTQsIm5iZiI6MTc0MzM0MDQxNCwicGF0aCI6Ii8zMDkzNDQyNC8zNzU1NzE1NzgtY2NjYzBlOWEtZTNiMi00MjVlLTliNTQtZTUwMjQ2ODFiMTI5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMzAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzMwVDEzMTMzNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU2NWI5MGI3MjhjNmZlYzIxMmE1N2JiMWI5OWNhZGY2ZmU2ODFlMzgwMmIwMjExNjQwNDI3OTkzZmI0ODY3ZmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.Q0Lqcq_OaQZtoRXa0IiuLpNrUg3o2HFfhmQobTRsTEw) ](https://discord.gg/smg2QfwtJ6)
A dead simple way of OCR-ing a document for AI ingestion. Documents are meant to be a visual representation after all. With weird layouts, tables, charts, etc. The vision models just make sense!
The general logic:
  * Pass in a file (PDF, DOCX, image, etc.)
  * Convert that file into a series of images
  * Pass each image to GPT and ask nicely for Markdown
  * Aggregate the responses and return Markdown


Try out the hosted version here: <https://getomni.ai/ocr-demo> Or visit our full documentation at: <https://docs.getomni.ai/zerox>
## Getting Started
[](https://github.com/getomni-ai/zerox#getting-started)
Zerox is available as both a Node and Python package.
  * [Node README](https://github.com/getomni-ai/zerox#node-zerox) - [npm package](https://www.npmjs.com/package/zerox)
  * [Python README](https://github.com/getomni-ai/zerox#python-zerox) - [pip package](https://pypi.org/project/py-zerox/)

Feature | Node.js | Python  
---|---|---  
PDF Processing | ✓ (requires graphicsmagick) | ✓ (requires poppler)  
Image Processing | ✓ | ✓  
OpenAI Support | ✓ | ✓  
Azure OpenAI Support | ✓ | ✓  
AWS Bedrock Support | ✓ | ✓  
Google Gemini Support | ✓ | ✓  
Vertex AI Support | ✗ | ✓  
Data Extraction | ✓ (`schema`) | ✗  
Per-page Extraction | ✓ (`extractPerPage`) | ✗  
Custom System Prompts | ✗ | ✓ (`custom_system_prompt`)  
Maintain Format Option | ✓ (`maintainFormat`) | ✓ (`maintain_format`)  
Async API | ✓ | ✓  
Error Handling Modes | ✓ (`errorMode`) | ✗  
Concurrent Processing | ✓ (`concurrency`) | ✓ (`concurrency`)  
Temp Directory Management | ✓ (`tempDir`) | ✓ (`temp_dir`)  
Page Selection | ✓ (`pagesToConvertAsImages`) | ✓ (`select_pages`)  
Orientation Correction | ✓ (`correctOrientation`) | ✗  
Edge Trimming | ✓ (`trimEdges`) | ✗  
## Node Zerox
[](https://github.com/getomni-ai/zerox#node-zerox)
(Node.js SDK - supports vision models from different providers like OpenAI, Azure OpenAI, Anthropic, AWS Bedrock, Google Gemini, etc.)
### Installation
[](https://github.com/getomni-ai/zerox#installation)
```
npm install zerox
```

Zerox uses `graphicsmagick` and `ghostscript` for the PDF => image processing step. These should be pulled automatically, but you may need to manually install.
On linux use:
```
sudo apt-get update
sudo apt-get install -y graphicsmagick

```

## Usage
[](https://github.com/getomni-ai/zerox#usage)
**With file URL**
```
import { zerox } from "zerox";
const result = await zerox({
 filePath: "https://omni-demo-data.s3.amazonaws.com/test/cs101.pdf",
 credentials: {
  apiKey: process.env.OPENAI_API_KEY,
 },
});
```

**From local path**
```
import { zerox } from "zerox";
import path from "path";
const result = await zerox({
 filePath: path.resolve(__dirname, "./cs101.pdf"),
 credentials: {
  apiKey: process.env.OPENAI_API_KEY,
 },
});
```

### Parameters
[](https://github.com/getomni-ai/zerox#parameters)
```
const result = await zerox({
 // Required
 filePath: "path/to/file",
 credentials: {
  apiKey: "your-api-key",
  // Additional provider-specific credentials as needed
 },
 // Optional
 cleanup: true, // Clear images from tmp after run
 concurrency: 10, // Number of pages to run at a time
 correctOrientation: true, // True by default, attempts to identify and correct page orientation
 directImageExtraction: false, // Extract data directly from document images instead of the markdown
 errorMode: ErrorMode.IGNORE, // ErrorMode.THROW or ErrorMode.IGNORE, defaults to ErrorMode.IGNORE
 extractionPrompt: "", // LLM instructions for extracting data from document
 extractOnly: false, // Set to true to only extract structured data using a schema
 extractPerPage, // Extract data per page instead of the entire document
 imageDensity: 300, // DPI for image conversion
 imageHeight: 2048, // Maximum height for converted images
 llmParams: {}, // Additional parameters to pass to the LLM
 maintainFormat: false, // Slower but helps maintain consistent formatting
 maxImageSize: 15, // Maximum size of images to compress, defaults to 15MB
 maxRetries: 1, // Number of retries to attempt on a failed page, defaults to 1
 maxTesseractWorkers: -1, // Maximum number of Tesseract workers. Zerox will start with a lower number and only reach maxTesseractWorkers if needed
 model: ModelOptions.OPENAI_GPT_4O, // Model to use (supports various models from different providers)
 modelProvider: ModelProvider.OPENAI, // Choose from OPENAI, BEDROCK, GOOGLE, or AZURE
 outputDir: undefined, // Save combined result.md to a file
 pagesToConvertAsImages: -1, // Page numbers to convert to image as array (e.g. `[1, 2, 3]`) or a number (e.g. `1`). Set to -1 to convert all pages
 prompt: "", // LLM instructions for processing the document
 schema: undefined, // Schema for structured data extraction
 tempDir: "/os/tmp", // Directory to use for temporary files (default: system temp directory)
 trimEdges: true, // True by default, trims pixels from all edges that contain values similar to the given background color, which defaults to that of the top-left pixel
});
```

The `maintainFormat` option tries to return the markdown in a consistent format by passing the output of a prior page in as additional context for the next page. This requires the requests to run synchronously, so it's a lot slower. But valuable if your documents have a lot of tabular data, or frequently have tables that cross pages.
```
Request #1 => page_1_image
Request #2 => page_1_markdown + page_2_image
Request #3 => page_2_markdown + page_3_image

```

### Example Output
[](https://github.com/getomni-ai/zerox#example-output)
```
{
 completionTime: 10038,
 fileName: 'invoice_36258',
 inputTokens: 25543,
 outputTokens: 210,
 pages: [
  {
   page: 1,
   content: '# INVOICE # 36258\n' +
    '**Date:** Mar 06 2012 \n' +
    '**Ship Mode:** First Class \n' +
    '**Balance Due:** $50.10 \n' +
    '## Bill To:\n' +
    'Aaron Bergman \n' +
    '98103, Seattle, \n' +
    'Washington, United States \n' +
    '## Ship To:\n' +
    'Aaron Bergman \n' +
    '98103, Seattle, \n' +
    'Washington, United States \n' +
    '\n' +
    '| Item                    | Quantity | Rate  | Amount |\n' +
    '|--------------------------------------------|----------|--------|---------|\n' +
    "| Global Push Button Manager's Chair, Indigo | 1    | $48.71 | $48.71 |\n" +
    '| Chairs, Furniture, FUR-CH-4421       |     |    |     |\n' +
    '\n' +
    '**Subtotal:** $48.71 \n' +
    '**Discount (20%):** $9.74 \n' +
    '**Shipping:** $11.13 \n' +
    '**Total:** $50.10 \n' +
    '---\n' +
    '**Notes:** \n' +
    'Thanks for your business! \n' +
    '**Terms:** \n' +
    'Order ID : CA-2012-AB10015140-40974 ',
   contentLength: 747,
  }
 ],
 extracted: null,
 summary: {
  totalPages: 1,
  ocr: {
   failed: 0,
   successful: 1,
  },
  extracted: null,
 },
}
```

### Data Extraction
[](https://github.com/getomni-ai/zerox#data-extraction)
Zerox supports structured data extraction from documents using a schema. This allows you to pull specific information from documents in a structured format instead of getting the full markdown conversion.
Set `extractOnly: true` and provide a `schema` to extract structured data. The schema follows the [JSON Schema standard](https://json-schema.org/understanding-json-schema/).
Use `extractPerPage` to extract data per page instead of from the whole document at once.
You can also set `extractionModel`, `extractionModelProvider`, and `extractionCredentials` to use a different model for extraction than OCR. By default, the same model is used.
### Supported Models
[](https://github.com/getomni-ai/zerox#supported-models)
Zerox supports a wide range of models across different providers:
  * **Azure OpenAI**
    * GPT-4 Vision (gpt-4o)
    * GPT-4 Vision Mini (gpt-4o-mini)
  * **OpenAI**
    * GPT-4 Vision (gpt-4o)
    * GPT-4 Vision Mini (gpt-4o-mini)
  * **AWS Bedrock**
    * Claude 3 Haiku (2024.03, 2024.10)
    * Claude 3 Sonnet (2024.02, 2024.06, 2024.10)
    * Claude 3 Opus (2024.02)
  * **Google Gemini**
    * Gemini 1.5 (Flash, Flash-8B, Pro)
    * Gemini 2.0 (Flash, Flash-Lite)


```
import { zerox } from "zerox";
import { ModelOptions, ModelProvider } from "zerox/node-zerox/dist/types";
// OpenAI
const openaiResult = await zerox({
 filePath: "path/to/file.pdf",
 modelProvider: ModelProvider.OPENAI,
 model: ModelOptions.OPENAI_GPT_4O,
 credentials: {
  apiKey: process.env.OPENAI_API_KEY,
 },
});
// Azure OpenAI
const azureResult = await zerox({
 filePath: "path/to/file.pdf",
 modelProvider: ModelProvider.AZURE,
 model: ModelOptions.OPENAI_GPT_4O,
 credentials: {
  apiKey: process.env.AZURE_API_KEY,
  endpoint: process.env.AZURE_ENDPOINT,
 },
});
// AWS Bedrock
const bedrockResult = await zerox({
 filePath: "path/to/file.pdf",
 modelProvider: ModelProvider.BEDROCK,
 model: ModelOptions.BEDROCK_CLAUDE_3_SONNET_2024_10,
 credentials: {
  accessKeyId: process.env.AWS_ACCESS_KEY_ID,
  secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,
  region: process.env.AWS_REGION,
 },
});
// Google Gemini
const geminiResult = await zerox({
 filePath: "path/to/file.pdf",
 modelProvider: ModelProvider.GOOGLE,
 model: ModelOptions.GOOGLE_GEMINI_1_5_PRO,
 credentials: {
  apiKey: process.env.GEMINI_API_KEY,
 },
});
```

## Python Zerox
[](https://github.com/getomni-ai/zerox#python-zerox)
(Python SDK - supports vision models from different providers like OpenAI, Azure OpenAI, Anthropic, AWS Bedrock, etc.)
### Installation
[](https://github.com/getomni-ai/zerox#installation-1)
  * Install **poppler** on the system, it should be available in path variable. See the [pdf2image documentation](https://pdf2image.readthedocs.io/en/latest/installation.html) for instructions by platform.
  * Install py-zerox:


```
pip install py-zerox
```

The `pyzerox.zerox` function is an asynchronous API that performs OCR (Optical Character Recognition) to markdown using vision models. It processes PDF files and converts them into markdown format. Make sure to set up the environment variables for the model and the model provider before using this API.
Refer to the [LiteLLM Documentation](https://docs.litellm.ai/docs/providers) for setting up the environment and passing the correct model name.
### Usage
[](https://github.com/getomni-ai/zerox#usage-1)
```
from pyzerox import zerox
import os
import json
import asyncio
### Model Setup (Use only Vision Models) Refer: https://docs.litellm.ai/docs/providers ###
## placeholder for additional model kwargs which might be required for some models
kwargs = {}
## system prompt to use for the vision model
custom_system_prompt = None
# to override
# custom_system_prompt = "For the below PDF page, do something..something..." ## example
###################### Example for OpenAI ######################
model = "gpt-4o-mini" ## openai model
os.environ["OPENAI_API_KEY"] = "" ## your-api-key

###################### Example for Azure OpenAI ######################
model = "azure/gpt-4o-mini" ## "azure/<your_deployment_name>" -> format <provider>/<model>
os.environ["AZURE_API_KEY"] = "" # "your-azure-api-key"
os.environ["AZURE_API_BASE"] = "" # "https://example-endpoint.openai.azure.com"
os.environ["AZURE_API_VERSION"] = "" # "2023-05-15"

###################### Example for Gemini ######################
model = "gemini/gpt-4o-mini" ## "gemini/<gemini_model>" -> format <provider>/<model>
os.environ['GEMINI_API_KEY'] = "" # your-gemini-api-key

###################### Example for Anthropic ######################
model="claude-3-opus-20240229"
os.environ["ANTHROPIC_API_KEY"] = "" # your-anthropic-api-key
###################### Vertex ai ######################
model = "vertex_ai/gemini-1.5-flash-001" ## "vertex_ai/<model_name>" -> format <provider>/<model>
## GET CREDENTIALS
## RUN ##
# !gcloud auth application-default login - run this to add vertex credentials to your env
## OR ##
file_path = 'path/to/vertex_ai_service_account.json'
# Load the JSON file
with open(file_path, 'r') as file:
  vertex_credentials = json.load(file)
# Convert to JSON string
vertex_credentials_json = json.dumps(vertex_credentials)
vertex_credentials=vertex_credentials_json
## extra args
kwargs = {"vertex_credentials": vertex_credentials}
###################### For other providers refer: https://docs.litellm.ai/docs/providers ######################
# Define main async entrypoint
async def main():
  file_path = "https://omni-demo-data.s3.amazonaws.com/test/cs101.pdf" ## local filepath and file URL supported
  ## process only some pages or all
  select_pages = None ## None for all, but could be int or list(int) page numbers (1 indexed)
  output_dir = "./output_test" ## directory to save the consolidated markdown file
  result = await zerox(file_path=file_path, model=model, output_dir=output_dir,
            custom_system_prompt=custom_system_prompt,select_pages=select_pages, **kwargs)
  return result

# run the main function:
result = asyncio.run(main())
# print markdown result
print(result)
```

### Parameters
[](https://github.com/getomni-ai/zerox#parameters-1)
```
async def zerox(
  cleanup: bool = True,
  concurrency: int = 10,
  file_path: Optional[str] = "",
  maintain_format: bool = False,
  model: str = "gpt-4o-mini",
  output_dir: Optional[str] = None,
  temp_dir: Optional[str] = None,
  custom_system_prompt: Optional[str] = None,
  select_pages: Optional[Union[int, Iterable[int]]] = None,
  **kwargs
) -> ZeroxOutput:
 ...
```

Parameters
  * **cleanup** (bool, optional): Whether to clean up temporary files after processing. Defaults to True.
  * **concurrency** (int, optional): The number of concurrent processes to run. Defaults to 10.
  * **file_path** (Optional[str], optional): The path to the PDF file to process. Defaults to an empty string.
  * **maintain_format** (bool, optional): Whether to maintain the format from the previous page. Defaults to False.
  * **model** (str, optional): The model to use for generating completions. Defaults to "gpt-4o-mini". Refer to LiteLLM Providers for the correct model name, as it may differ depending on the provider.
  * **output_dir** (Optional[str], optional): The directory to save the markdown output. Defaults to None.
  * **temp_dir** (str, optional): The directory to store temporary files, defaults to some named folder in system's temp directory. If already exists, the contents will be deleted before Zerox uses it.
  * **custom_system_prompt** (str, optional): The system prompt to use for the model, this overrides the default system prompt of Zerox.Generally it is not required unless you want some specific behavior. Defaults to None.
  * **select_pages** (Optional[Union[int, Iterable[int]]], optional): Pages to process, can be a single page number or an iterable of page numbers. Defaults to None
  * **kwargs** (dict, optional): Additional keyword arguments to pass to the litellm.completion method. Refer to the LiteLLM Documentation and Completion Input for details.


Returns
  * ZeroxOutput: Contains the markdown content generated by the model and also some metadata (refer below).


### Example Output (output from "azure/gpt-4o-mini")
[](https://github.com/getomni-ai/zerox#example-output-output-from-azuregpt-4o-mini)
Note the output is manually wrapped for this documentation for better readability.
```
ZeroxOutput(
  completion_time=9432.975,
  file_name='cs101',
  input_tokens=36877,
  output_tokens=515,
  pages=[
    Page(
      content='| Type  | Description             | Wrapper Class |\n' +
          '|---------|--------------------------------------|---------------|\n' +
          '| byte  | 8-bit signed 2s complement integer  | Byte     |\n' +
          '| short  | 16-bit signed 2s complement integer | Short     |\n' +
          '| int   | 32-bit signed 2s complement integer | Integer    |\n' +
          '| long  | 64-bit signed 2s complement integer | Long     |\n' +
          '| float  | 32-bit IEEE 754 floating point number| Float     |\n' +
          '| double | 64-bit floating point number     | Double    |\n' +
          '| boolean | may be set to true or false     | Boolean    |\n' +
          '| char  | 16-bit Unicode (UTF-16) character  | Character   |\n\n' +
          'Table 26.2.: Primitive types in Java\n\n' +
          '### 26.3.1. Declaration & Assignment\n\n' +
          'Java is a statically typed language meaning that all variables must be declared before you can use ' +
          'them or refer to them. In addition, when declaring a variable, you must specify both its type and ' +
          'its identifier. For example:\n\n' +
          '```java\n' +
          'int numUnits;\n' +
          'double costPerUnit;\n' +
          'char firstInitial;\n' +
          'boolean isStudent;\n' +
          '```\n\n' +
          'Each declaration specifies the variable’s type followed by the identifier and ending with a ' +
          'semicolon. The identifier rules are fairly standard: a name can consist of lowercase and ' +
          'uppercase alphabetic characters, numbers, and underscores but may not begin with a numeric ' +
          'character. We adopt the modern camelCasing naming convention for variables in our code. In ' +
          'general, variables must be assigned a value before you can use them in an expression. You do not ' +
          'have to immediately assign a value when you declare them (though it is good practice), but some ' +
          'value must be assigned before they can be used or the compiler will issue an error.\n\n' +
          'The assignment operator is a single equal sign, `=` and is a right-to-left assignment. That is, ' +
          'the variable that we wish to assign the value to appears on the left-hand-side while the value ' +
          '(literal, variable or expression) is on the right-hand-side. Using our variables from before, ' +
          'we can assign them values:\n\n' +
          '> 2 Instance variables, that is variables declared as part of an object do have default values. ' +
          'For objects, the default is `null`, for all numeric types, zero is the default value. For the ' +
          'boolean type, `false` is the default, and the default char value is `\\0`, the null-terminating ' +
          'character (zero in the ASCII table).',
      content_length=2333,
      page=1
    )
  ]
)
```

## Supported File Types
[](https://github.com/getomni-ai/zerox#supported-file-types)
We use a combination of `libreoffice` and `graphicsmagick` to do document => image conversion. For non-image / non-PDF files, we use libreoffice to convert that file to a PDF, and then to an image.
```
[
 "pdf", // Portable Document Format
 "doc", // Microsoft Word 97-2003
 "docx", // Microsoft Word 2007-2019
 "odt", // OpenDocument Text
 "ott", // OpenDocument Text Template
 "rtf", // Rich Text Format
 "txt", // Plain Text
 "html", // HTML Document
 "htm", // HTML Document (alternative extension)
 "xml", // XML Document
 "wps", // Microsoft Works Word Processor
 "wpd", // WordPerfect Document
 "xls", // Microsoft Excel 97-2003
 "xlsx", // Microsoft Excel 2007-2019
 "ods", // OpenDocument Spreadsheet
 "ots", // OpenDocument Spreadsheet Template
 "csv", // Comma-Separated Values
 "tsv", // Tab-Separated Values
 "ppt", // Microsoft PowerPoint 97-2003
 "pptx", // Microsoft PowerPoint 2007-2019
 "odp", // OpenDocument Presentation
 "otp", // OpenDocument Presentation Template
];
```

## Credits
[](https://github.com/getomni-ai/zerox#credits)
  * [Litellm](https://github.com/BerriAI/litellm): <https://github.com/BerriAI/litellm> | This powers our python sdk to support all popular vision models from different providers.


### License
[](https://github.com/getomni-ai/zerox#license)
This project is licensed under the MIT License.
## About
OCR & Document Extraction using vision models 
[getomni.ai/ocr-demo](https://getomni.ai/ocr-demo "https://getomni.ai/ocr-demo")
### Topics
[ pdf ](https://github.com/topics/pdf "Topic: pdf") [ ocr ](https://github.com/topics/ocr "Topic: ocr")
### Resources
[ Readme ](https://github.com/getomni-ai/zerox#readme-ov-file)
### License
[ MIT license ](https://github.com/getomni-ai/zerox#MIT-1-ov-file)
[ Activity](https://github.com/getomni-ai/zerox/activity)
[ Custom properties](https://github.com/getomni-ai/zerox/custom-properties)
### Stars
[ **10.7k** stars](https://github.com/getomni-ai/zerox/stargazers)
### Watchers
[ **53** watching](https://github.com/getomni-ai/zerox/watchers)
### Forks
[ **703** forks](https://github.com/getomni-ai/zerox/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fgetomni-ai%2Fzerox&report=getomni-ai+%28user%29)
##  [Releases 9](https://github.com/getomni-ai/zerox/releases)
[ v0.1.06 Latest  Dec 18, 2024 ](https://github.com/getomni-ai/zerox/releases/tag/v0.1.06)
[+ 8 releases](https://github.com/getomni-ai/zerox/releases)
##  [Packages 0](https://github.com/orgs/getomni-ai/packages?repo_name=zerox)
No packages published 
##  [Contributors 18](https://github.com/getomni-ai/zerox/graphs/contributors)
  * [ ![@annapo23](https://avatars.githubusercontent.com/u/44502862?s=64&v=4) ](https://github.com/annapo23)
  * [ ![@tylermaran](https://avatars.githubusercontent.com/u/30934424?s=64&v=4) ](https://github.com/tylermaran)
  * [ ![@kailingding](https://avatars.githubusercontent.com/u/49173589?s=64&v=4) ](https://github.com/kailingding)
  * [ ![@xdotli](https://avatars.githubusercontent.com/u/51786539?s=64&v=4) ](https://github.com/xdotli)
  * [ ![@ZeeshanZulfiqarAli](https://avatars.githubusercontent.com/u/32417658?s=64&v=4) ](https://github.com/ZeeshanZulfiqarAli)
  * [ ![@alexander-densley](https://avatars.githubusercontent.com/u/89933800?s=64&v=4) ](https://github.com/alexander-densley)
  * [ ![@dfdeagle47](https://avatars.githubusercontent.com/u/4046296?s=64&v=4) ](https://github.com/dfdeagle47)
  * [ ![@pradhyumna85](https://avatars.githubusercontent.com/u/36568190?s=64&v=4) ](https://github.com/pradhyumna85)
  * [ ![@eltociear](https://avatars.githubusercontent.com/u/22633385?s=64&v=4) ](https://github.com/eltociear)
  * [ ![@wizenheimer](https://avatars.githubusercontent.com/u/91504165?s=64&v=4) ](https://github.com/wizenheimer)
  * [ ![@bjlange](https://avatars.githubusercontent.com/u/780375?s=64&v=4) ](https://github.com/bjlange)
  * [ ![@masparasol](https://avatars.githubusercontent.com/u/1947941?s=64&v=4) ](https://github.com/masparasol)
  * [ ![@GautierT](https://avatars.githubusercontent.com/u/6089653?s=64&v=4) ](https://github.com/GautierT)
  * [ ![@mg6](https://avatars.githubusercontent.com/u/7475587?s=64&v=4) ](https://github.com/mg6)


[+ 4 contributors](https://github.com/getomni-ai/zerox/graphs/contributors)
## Languages
  * [ TypeScript 67.4% ](https://github.com/getomni-ai/zerox/search?l=typescript)
  * [ Python 27.4% ](https://github.com/getomni-ai/zerox/search?l=python)
  * [ JavaScript 3.1% ](https://github.com/getomni-ai/zerox/search?l=javascript)
  * [ Makefile 2.1% ](https://github.com/getomni-ai/zerox/search?l=makefile)


## Footer
[ ](https://github.com "GitHub") © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 
