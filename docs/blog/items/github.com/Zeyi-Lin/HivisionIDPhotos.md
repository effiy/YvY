# 原始URL: https://github.com/Zeyi-Lin/HivisionIDPhotos

# 抓取时间: 2025-03-30 21:14:25

[Skip to content](https://github.com/Zeyi-Lin/HivisionIDPhotos#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FZeyi-Lin%2FHivisionIDPhotos)
  * Product 
    * [ GitHub Copilot Write better code with AI  ](https://github.com/features/copilot)
    * [ Security Find and fix vulnerabilities  ](https://github.com/features/security)
    * [ Actions Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues Plan and track work  ](https://github.com/features/issues)
    * [ Code Review Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ Advanced Security Enterprise-grade security features  ](https://github.com/enterprise/advanced-security)
    * [ Copilot for business Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2FZeyi-Lin%2FHivisionIDPhotos)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=Zeyi-Lin%2FHivisionIDPhotos) Reseting focus
You signed in with another tab or window. [Reload](https://github.com/Zeyi-Lin/HivisionIDPhotos) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/Zeyi-Lin/HivisionIDPhotos) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/Zeyi-Lin/HivisionIDPhotos) to refresh your session. Dismiss alert
{{ message }}
[ Zeyi-Lin ](https://github.com/Zeyi-Lin) / **[HivisionIDPhotos](https://github.com/Zeyi-Lin/HivisionIDPhotos) ** Public
  * [ Notifications ](https://github.com/login?return_to=%2FZeyi-Lin%2FHivisionIDPhotos) You must be signed in to change notification settings
  * [ Fork 1.6k ](https://github.com/login?return_to=%2FZeyi-Lin%2FHivisionIDPhotos)
  * [ Star  15.3k ](https://github.com/login?return_to=%2FZeyi-Lin%2FHivisionIDPhotos)


⚡️HivisionIDPhotos: a lightweight and efficient AI ID photos tools. 一个轻量级的AI证件照制作算法。 
[huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos](https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos "https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos")
### License
[ Apache-2.0 license ](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/LICENSE)
[ 15.3k stars ](https://github.com/Zeyi-Lin/HivisionIDPhotos/stargazers) [ 1.6k forks ](https://github.com/Zeyi-Lin/HivisionIDPhotos/forks) [ Branches ](https://github.com/Zeyi-Lin/HivisionIDPhotos/branches) [ Tags ](https://github.com/Zeyi-Lin/HivisionIDPhotos/tags) [ Activity ](https://github.com/Zeyi-Lin/HivisionIDPhotos/activity)
[ Star  ](https://github.com/login?return_to=%2FZeyi-Lin%2FHivisionIDPhotos)
[ Notifications ](https://github.com/login?return_to=%2FZeyi-Lin%2FHivisionIDPhotos) You must be signed in to change notification settings
  * [ Code ](https://github.com/Zeyi-Lin/HivisionIDPhotos)
  * [ Issues 69 ](https://github.com/Zeyi-Lin/HivisionIDPhotos/issues)
  * [ Pull requests 1 ](https://github.com/Zeyi-Lin/HivisionIDPhotos/pulls)
  * [ Actions ](https://github.com/Zeyi-Lin/HivisionIDPhotos/actions)
  * [ Projects 0 ](https://github.com/Zeyi-Lin/HivisionIDPhotos/projects)
  * [ Security ](https://github.com/Zeyi-Lin/HivisionIDPhotos/security)
  * [ Insights ](https://github.com/Zeyi-Lin/HivisionIDPhotos/pulse)


Additional navigation options
  * [ Code  ](https://github.com/Zeyi-Lin/HivisionIDPhotos)
  * [ Issues  ](https://github.com/Zeyi-Lin/HivisionIDPhotos/issues)
  * [ Pull requests  ](https://github.com/Zeyi-Lin/HivisionIDPhotos/pulls)
  * [ Actions  ](https://github.com/Zeyi-Lin/HivisionIDPhotos/actions)
  * [ Projects  ](https://github.com/Zeyi-Lin/HivisionIDPhotos/projects)
  * [ Security  ](https://github.com/Zeyi-Lin/HivisionIDPhotos/security)
  * [ Insights  ](https://github.com/Zeyi-Lin/HivisionIDPhotos/pulse)


# Zeyi-Lin/HivisionIDPhotos
master
[Branches](https://github.com/Zeyi-Lin/HivisionIDPhotos/branches)[Tags](https://github.com/Zeyi-Lin/HivisionIDPhotos/tags)
[](https://github.com/Zeyi-Lin/HivisionIDPhotos/branches)[](https://github.com/Zeyi-Lin/HivisionIDPhotos/tags)
Go to file
Code
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
## Latest commit
## History
[440 Commits](https://github.com/Zeyi-Lin/HivisionIDPhotos/commits/master/)[](https://github.com/Zeyi-Lin/HivisionIDPhotos/commits/master/)  
[.devcontainer](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/.devcontainer ".devcontainer")| [.devcontainer](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/.devcontainer ".devcontainer")  
[.github/workflows](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/.github/workflows "This path skips through empty directories")| [.github/workflows](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/.github/workflows "This path skips through empty directories")  
[.vscode](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/.vscode ".vscode")| [.vscode](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/.vscode ".vscode")  
[assets](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/assets "assets")| [assets](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/assets "assets")  
[demo](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/demo "demo")| [demo](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/demo "demo")  
[docs](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/docs "docs")| [docs](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/docs "docs")  
[hivision](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/hivision "hivision")| [hivision](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/hivision "hivision")  
[scripts](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/scripts "scripts")| [scripts](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/scripts "scripts")  
[test](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/test "test")| [test](https://github.com/Zeyi-Lin/HivisionIDPhotos/tree/master/test "test")  
[.gitignore](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/.gitignore ".gitignore")| [.gitignore](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/.gitignore ".gitignore")  
[Dockerfile](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/Dockerfile "Dockerfile")| [Dockerfile](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/Dockerfile "Dockerfile")  
[LICENSE](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/LICENSE "LICENSE")| [LICENSE](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/LICENSE "LICENSE")  
[README.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README.md "README.md")| [README.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README.md "README.md")  
[README_EN.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_EN.md "README_EN.md")| [README_EN.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_EN.md "README_EN.md")  
[README_JP.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_JP.md "README_JP.md")| [README_JP.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_JP.md "README_JP.md")  
[README_KO.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_KO.md "README_KO.md")| [README_KO.md](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_KO.md "README_KO.md")  
[app.py](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/app.py "app.py")| [app.py](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/app.py "app.py")  
[app.spec](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/app.spec "app.spec")| [app.spec](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/app.spec "app.spec")  
[deploy_api.py](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/deploy_api.py "deploy_api.py")| [deploy_api.py](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/deploy_api.py "deploy_api.py")  
[docker-compose.yml](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/docker-compose.yml "docker-compose.yml")| [docker-compose.yml](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/docker-compose.yml "docker-compose.yml")  
[inference.py](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/inference.py "inference.py")| [inference.py](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/inference.py "inference.py")  
[requirements-app.txt](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/requirements-app.txt "requirements-app.txt")| [requirements-app.txt](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/requirements-app.txt "requirements-app.txt")  
[requirements-dev.txt](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/requirements-dev.txt "requirements-dev.txt")| [requirements-dev.txt](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/requirements-dev.txt "requirements-dev.txt")  
[requirements.txt](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/requirements.txt "requirements.txt")| [requirements.txt](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/requirements.txt "requirements.txt")  
View all files  
## Repository files navigation
  * [README](https://github.com/Zeyi-Lin/HivisionIDPhotos)
  * [Apache-2.0 license](https://github.com/Zeyi-Lin/HivisionIDPhotos)


[![hivision_logo](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/hivision_logo.png)](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/assets/hivision_logo.png)
# HivisionIDPhoto
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#hivisionidphoto)
[English](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_EN.md) / 中文 / [日本語](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_JP.md) / [한국어](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/README_KO.md)
[![](https://camo.githubusercontent.com/b4351d60ef9c9716823e2a07baaac13483b3f3656b4ee87521ca692021d783c8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f7a6579692d6c696e2f6869766973696f6e696470686f746f733f636f6c6f723d333639656666266c6162656c436f6c6f723d626c61636b266c6f676f3d676974687562267374796c653d666c61742d737175617265)](https://github.com/zeyi-lin/hivisionidphotos/releases) [![](https://camo.githubusercontent.com/fdf47c1680811ff415c82a436ac52763a15c870460f59e2fc134e531d4ec5c37/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f762f6c696e7a6579692f6869766973696f6e5f696470686f746f733f636f6c6f723d333639656666266c6162656c3d646f636b6572266c6162656c436f6c6f723d626c61636b266c6f676f436f6c6f723d7768697465267374796c653d666c61742d737175617265)](https://hub.docker.com/r/linzeyi/hivision_idphotos/tags) [![](https://camo.githubusercontent.com/cbb1d98af2d540547bab205ee3e3f22d1053ab675d4c39e921b49a5df1534ee8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f7a6579692d6c696e2f6869766973696f6e696470686f746f733f636f6c6f723d666663623437266c6162656c436f6c6f723d626c61636b267374796c653d666c61742d737175617265)](https://github.com/zeyi-lin/hivisionidphotos/stargazers) [![](https://camo.githubusercontent.com/5d9a93ae386cc15a4887f03370073429f4c5f7f91762200e270398fe5a277002/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f7a6579692d6c696e2f6869766973696f6e696470686f746f733f636f6c6f723d666638306562266c6162656c436f6c6f723d626c61636b267374796c653d666c61742d737175617265)](https://github.com/zeyi-lin/hivisionidphotos/issues) [![](https://camo.githubusercontent.com/a39c92c044ebbd322b3891fd33bd79e459b47969a3607507b207f567d68bcac6/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f7a6579692d6c696e2f6869766973696f6e696470686f746f733f636f6c6f723d633466303432266c6162656c436f6c6f723d626c61636b267374796c653d666c61742d737175617265)](https://github.com/zeyi-lin/hivisionidphotos/graphs/contributors) [![](https://camo.githubusercontent.com/e276e7d00d317cfadc7eeb335520f9d450c3f065a5e83af41612c2f15c0ada8d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f7a6579692d6c696e2f6869766973696f6e696470686f746f733f636f6c6f723d386165386666266c6162656c436f6c6f723d626c61636b267374796c653d666c61742d737175617265)](https://github.com/zeyi-lin/hivisionidphotos/network/members) [![](https://camo.githubusercontent.com/913c49799c247228e72d7bf626f4b8fd571dab763b861d415e6441a2494414db/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d617061636865253230322e302d77686974653f6c6162656c436f6c6f723d626c61636b267374796c653d666c61742d737175617265)](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/LICENSE) [![](https://camo.githubusercontent.com/38d2dbb7b93b0203f8de6c48d36c74918495800fe9dab61f3e45bc6e9567c72e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5765436861742d2545352542452541452545342542462541312d346362353565)](https://docs.qq.com/doc/DUkpBdk90eWZFS2JW) [![](https://camo.githubusercontent.com/f302d00c36a87c4bac8741c397b6a55f1017c961cec10b0990879eda5e15a3f4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2546302539462541342539372d4f70656e253230696e2532305370616365732d626c7565)](https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos) [![](https://camo.githubusercontent.com/e2c1ce1da7e5bbe6397577125b55cdd6fe327371d0c20f8477d2d9dadd8268c3/68747470733a2f2f7377616e6875622e636f2f6769742f7265706f2f5377616e4875622532464175746f2d524541444d452f66696c652f707265766965773f7265663d6d61696e26706174683d7377616e6875622e737667)](https://swanhub.co/ZeYiLin/HivisionIDPhotos/demo) [![](https://camo.githubusercontent.com/cefa3a0aa0b04b14356ea9c36d5556034602ff2e616f4699c7267cbbfaed783d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f44656d6f5f6f6e5f4d6f64656c53636f70652d707572706c653f6c6f676f3d646174613a696d6167652f7376672b786d6c3b6261736536342c50484e325a79423361575230614430694d6a497a4969426f5a576c6e61485139496a49774d43496765473173626e4d39496d6830644841364c79393364336375647a4d7562334a6e4c7a49774d44417663335a6e496a344b436941385a7a344b4943413864476c306247552b544746355a5849674d54777664476c306247552b43694167504842686447676761575139496e4e325a3138784e4349675a6d6c7362443069497a59794e47466d5a6949675a443069625441734f446b754f4452734d6a55754e6a55734d4777774c4449314c6a59304f546b35624330794e5334324e537777624441734c5449314c6a59304f546b356569497650676f67494478775958526f49476c6b50534a7a646d64664d54556949475a706247773949694d324d6a52685a6d596949475139496d30354f5334784e4377784d5455754e446c734d6a55754e6a55734d4777774c4449314c6a5931624330794e5334324e537777624441734c5449314c6a59316569497650676f67494478775958526f49476c6b50534a7a646d64664d54596949475a706247773949694d324d6a52685a6d596949475139496d30784e7a59754d446b734d5451784c6a4530624330794e5334324e446b354f537777624441734d6a49754d546c734e4463754f4451734d4777774c4330304e7934344e4777744d6a49754d546b734d4777774c4449314c6a59316569497650676f67494478775958526f49476c6b50534a7a646d64664d54636949475a706247773949694d7a4e6d4e6d5a44456949475139496d30784d6a51754e7a6b734f446b754f4452734d6a55754e6a55734d4777774c4449314c6a59304f546b35624330794e5334324e537777624441734c5449314c6a59304f546b356569497650676f67494478775958526f49476c6b50534a7a646d64664d54676949475a706247773949694d7a4e6d4e6d5a44456949475139496d30774c4459304c6a4535624449314c6a59314c4442734d4377794e5334324e5777744d6a55754e6a55734d4777774c4330794e5334324e586f694c7a344b4943413863474630614342705a44306963335a6e587a45354969426d615778735053496a4e6a493059575a6d4969426b50534a744d546b344c6a49344c4467354c6a6730624449314c6a59304f546b354c4442734d4377794e5334324e446b354f5777744d6a55754e6a51354f546b734d4777774c4330794e5334324e446b354f586f694c7a344b4943413863474630614342705a44306963335a6e587a49774969426d615778735053496a4d7a5a6a5a6d51784969426b50534a744d546b344c6a49344c4459304c6a4535624449314c6a59304f546b354c4442734d4377794e5334324e5777744d6a55754e6a51354f546b734d4777774c4330794e5334324e586f694c7a344b4943413863474630614342705a44306963335a6e587a49784969426d615778735053496a4e6a493059575a6d4969426b50534a744d5455774c6a51304c445179624441734d6a49754d546c734d6a55754e6a51354f546b734d4777774c4449314c6a5931624449794c6a45354c4442734d4377744e4463754f4452734c5451334c6a67304c4442364969382b43694167504842686447676761575139496e4e325a3138794d6949675a6d6c7362443069497a4d3259325a6b4d5349675a4430696254637a4c6a51354c4467354c6a6730624449314c6a59314c4442734d4377794e5334324e446b354f5777744d6a55754e6a55734d4777774c4330794e5334324e446b354f586f694c7a344b4943413863474630614342705a44306963335a6e587a497a4969426d615778735053496a4e6a493059575a6d4969426b50534a744e4463754f4451734e6a51754d546c734d6a55754e6a55734d4777774c4330794d6934784f5777744e4463754f4451734d4777774c4451334c6a6730624449794c6a45354c4442734d4377744d6a55754e6a56364969382b43694167504842686447676761575139496e4e325a3138794e4349675a6d6c7362443069497a59794e47466d5a6949675a443069625451334c6a67304c4445784e5334304f5777744d6a49754d546b734d4777774c4451334c6a6730624451334c6a67304c4442734d4377744d6a49754d546c734c5449314c6a59314c4442734d4377744d6a55754e6a56364969382b436941384c32632b436a777663335a6e50673d3d266c6162656c436f6c6f723d7768697465)](https://modelscope.cn/studios/SwanLab/HivisionIDPhotos) [![](https://camo.githubusercontent.com/cfcb815479ba0cce7f860f1b396ac41e834392c4fda914282dacc147e51ac535/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f44656d6f5f6f6e5f4d6f64656c6572732d6334326132613f6c6f676f3d646174613a696d6167652f7376672b786d6c3b6261736536342c50484e325a79423462577875637a30696148523063446f764c336433647935334d793576636d63764d6a41774d43397a646d6369494864705a48526f505349784d6a51694947686c6157646f644430694e6a516949485a705a58644362336739496a41674d4341784d6a51674e6a516949475a7062477739496d3576626d556950676f38634746306143426b50534a4e4e4449754e7a63344d794177534449324c6a55354e7a64574d5455754e7a63344e3067304d6934334e7a677a566a42614969426d615778735053496a524555774e4449354969382b436a78775958526f49475139496b30784e6934314d446734494451754d5463354d6b67774c6a4d794f4445794e5659784f5334354e546335534445324c6a55774f4468574e4334784e7a6b79576949675a6d6c7362443069497a49304e446b355179497650676f38634746306143426b50534a4e4d54497a4c6a6b314d6941304c6a45334f544a494d5441334c6a63334d5659784f5334354e546335534445794d7934354e544a574e4334784e7a6b79576949675a6d6c7362443069497a49304e446b355179497650676f38634746306143426b50534a4e4d5459754e5441344f4341304e5334304e6a4535534441754d7a49344d544931566a59784c6a49304d445a494d5459754e5441344f4659304e5334304e6a4535576949675a6d6c7362443069497a49304e446b355179497650676f38634746306143426b50534a4e4d54497a4c6a6b314d6941304e5334304e6a4535534445774e7934334e7a46574e6a45754d6a51774e6b67784d6a4d754f545579566a51314c6a51324d546c614969426d615778735053496a4d6a51304f546c444969382b436a78775958526f49475139496b307a4d6934334d4467674d5455754e7a63344f4567784e6934314d6a637a566a4d784c6a55314e7a56494d7a49754e7a4134566a45314c6a63334f4468614969426d615778735053496a524555774e4449354969382b436a78775958526f49475139496b30314d6934344e446732494445314c6a63334f4468494d7a59754e6a5934566a4d784c6a55314e7a56494e5449754f4451344e6c59784e5334334e7a6734576949675a6d6c7362443069493052464d4451794f53497650676f38634746306143426b50534a4e4f5463754e7a497a4e794177534467784c6a55304d3159784e5334334e7a673353446b334c6a63794d7a64574d466f6949475a706247773949694e45525441304d6a6b694c7a344b50484268644767675a443069545467334c6a59314d7a51674d5455754e7a63344f4567334d5334304e7a4933566a4d784c6a55314e7a56494f4463754e6a557a4e4659784e5334334e7a6734576949675a6d6c7362443069493052464d4451794f53497650676f38634746306143426b50534a4e4d5441334c6a63354e4341784e5334334e7a673453446b784c6a59784d7a4e574d7a45754e5455334e5567784d4463754e7a6b30566a45314c6a63334f4468614969426d615778735053496a524555774e4449354969382b436a78775958526f49475139496b30794e4334324e7a513449444d784c6a55314e7a5a494f4334304f5451784e4659304e79347a4d7a597a534449304c6a59334e4468574d7a45754e5455334e6c6f6949475a706247773949694e45525441304d6a6b694c7a344b50484268644767675a443069545459774c6a67334f546b674d7a45754e5455334e6b67304e4334324f546b79566a51334c6a4d7a4e6a4e494e6a41754f4463354f56597a4d5334314e546332576949675a6d6c7362443069493052464d4451794f53497650676f38634746306143426b50534a4e4e7a6b754e6a49774d53417a4d5334314e5463325344597a4c6a517a4f5456574e4463754d7a4d324d3067334f5334324d6a4178566a4d784c6a55314e7a5a614969426d615778735053496a524555774e4449354969382b436a78775958526f49475139496b30784d5455754f44493149444d784c6a55314e7a5a494f546b754e6a51304e5659304e79347a4d7a597a534445784e5334344d6a56574d7a45754e5455334e6c6f6949475a706247773949694e45525441304d6a6b694c7a344b50484268644767675a443069545463774c6a49314e446b674e4463754d7a4d314f5567314e4334774e7a5179566a597a4c6a45784e4464494e7a41754d6a55304f5659304e79347a4d7a5535576949675a6d6c7362443069493052464d4451794f53497650676f384c334e325a7a343d266c6162656c436f6c6f723d7768697465)](https://modelers.cn/spaces/SwanLab/HivisionIDPhotos) [![](https://camo.githubusercontent.com/12614179034ed51b726f5cd06db785a152f55349dcc01829ef6565189a3884dc/68747470733a2f2f7777772d732e75636c6f75642e636e2f323032352f30322f64626566386230376561336433313630303664396332323736356333636435335f313734303130343334323538342e737667)](https://www.compshare.cn/images-detail?ImageID=compshareImage-17jacgm4ju16&ytag=HG_GPU_HivisionIDPhotos)
[![](https://camo.githubusercontent.com/7d132d28e12e918a124f0a5dded54560830803ea681c14f282fb93e99e33441c/68747470733a2f2f7472656e6473686966742e696f2f6170692f62616467652f7265706f7369746f726965732f3131363232)](https://trendshift.io/repositories/11622) [![](https://camo.githubusercontent.com/4192399e2fedbc97e2471c3e779f590cd22813e2603c746bd8606fda7cb3997a/68747470733a2f2f6162726f61642e68656c6c6f6769746875622e636f6d2f76312f776964676574732f7265636f6d6d656e642e7376673f7269643d386561313435373238396662343036326261363631653532393965373333643626636c61696d5f7569643d4f68355561476a6672626c6730795a)](https://hellogithub.com/repository/8ea1457289fb4062ba661e5299e733d6)
[![](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/demoImage.jpg)](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/assets/demoImage.jpg)
> **相关项目** ：
>   * [SwanLab](https://github.com/SwanHubX/SwanLab)：一个开源、现代化设计的深度学习训练跟踪与可视化工具，同时支持云端/离线使用，国内好用的Wandb平替；适配30+主流框架（PyTorch、HuggingFace Transformers、LLaMA Factory、Lightning等），欢迎使用！
> 

# 目录
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#目录)
  * [最近更新](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E6%9C%80%E8%BF%91%E6%9B%B4%E6%96%B0)
  * [项目简介](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B)
  * [社区](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E7%A4%BE%E5%8C%BA)
  * [准备工作](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C)
  * [Demo启动](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E8%BF%90%E8%A1%8C-gradio-demo)
  * [Python推理](https://github.com/Zeyi-Lin/HivisionIDPhotos#-python-%E6%8E%A8%E7%90%86)
  * [API服务部署](https://github.com/Zeyi-Lin/HivisionIDPhotos#%EF%B8%8F-%E9%83%A8%E7%BD%B2-api-%E6%9C%8D%E5%8A%A1)
  * [Docker部署](https://github.com/Zeyi-Lin/HivisionIDPhotos#-docker-%E9%83%A8%E7%BD%B2)
  * [联系我们](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC)
  * [FAQ](https://github.com/Zeyi-Lin/HivisionIDPhotos#faq)
  * [感谢支持](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E6%84%9F%E8%B0%A2%E6%94%AF%E6%8C%81)
  * [License](https://github.com/Zeyi-Lin/HivisionIDPhotos#-lincese)
  * [引用](https://github.com/Zeyi-Lin/HivisionIDPhotos#-%E5%BC%95%E7%94%A8)


# 🤩 最近更新
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-最近更新)
  * 在线体验： [![SwanHub Demo](https://camo.githubusercontent.com/8fb49df59a8a73a5b9e615ae8a1fa6bd17449836e3685be9124d779855ee4913/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d44656d6f266d6573736167653d5377616e48756225323044656d6f26636f6c6f723d626c7565)](https://swanhub.co/ZeYiLin/HivisionIDPhotos/demo)、[![Spaces](https://camo.githubusercontent.com/f302d00c36a87c4bac8741c397b6a55f1017c961cec10b0990879eda5e15a3f4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2546302539462541342539372d4f70656e253230696e2532305370616365732d626c7565)](https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos)、[![](https://camo.githubusercontent.com/cefa3a0aa0b04b14356ea9c36d5556034602ff2e616f4699c7267cbbfaed783d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f44656d6f5f6f6e5f4d6f64656c53636f70652d707572706c653f6c6f676f3d646174613a696d6167652f7376672b786d6c3b6261736536342c50484e325a79423361575230614430694d6a497a4969426f5a576c6e61485139496a49774d43496765473173626e4d39496d6830644841364c79393364336375647a4d7562334a6e4c7a49774d44417663335a6e496a344b436941385a7a344b4943413864476c306247552b544746355a5849674d54777664476c306247552b43694167504842686447676761575139496e4e325a3138784e4349675a6d6c7362443069497a59794e47466d5a6949675a443069625441734f446b754f4452734d6a55754e6a55734d4777774c4449314c6a59304f546b35624330794e5334324e537777624441734c5449314c6a59304f546b356569497650676f67494478775958526f49476c6b50534a7a646d64664d54556949475a706247773949694d324d6a52685a6d596949475139496d30354f5334784e4377784d5455754e446c734d6a55754e6a55734d4777774c4449314c6a5931624330794e5334324e537777624441734c5449314c6a59316569497650676f67494478775958526f49476c6b50534a7a646d64664d54596949475a706247773949694d324d6a52685a6d596949475139496d30784e7a59754d446b734d5451784c6a4530624330794e5334324e446b354f537777624441734d6a49754d546c734e4463754f4451734d4777774c4330304e7934344e4777744d6a49754d546b734d4777774c4449314c6a59316569497650676f67494478775958526f49476c6b50534a7a646d64664d54636949475a706247773949694d7a4e6d4e6d5a44456949475139496d30784d6a51754e7a6b734f446b754f4452734d6a55754e6a55734d4777774c4449314c6a59304f546b35624330794e5334324e537777624441734c5449314c6a59304f546b356569497650676f67494478775958526f49476c6b50534a7a646d64664d54676949475a706247773949694d7a4e6d4e6d5a44456949475139496d30774c4459304c6a4535624449314c6a59314c4442734d4377794e5334324e5777744d6a55754e6a55734d4777774c4330794e5334324e586f694c7a344b4943413863474630614342705a44306963335a6e587a45354969426d615778735053496a4e6a493059575a6d4969426b50534a744d546b344c6a49344c4467354c6a6730624449314c6a59304f546b354c4442734d4377794e5334324e446b354f5777744d6a55754e6a51354f546b734d4777774c4330794e5334324e446b354f586f694c7a344b4943413863474630614342705a44306963335a6e587a49774969426d615778735053496a4d7a5a6a5a6d51784969426b50534a744d546b344c6a49344c4459304c6a4535624449314c6a59304f546b354c4442734d4377794e5334324e5777744d6a55754e6a51354f546b734d4777774c4330794e5334324e586f694c7a344b4943413863474630614342705a44306963335a6e587a49784969426d615778735053496a4e6a493059575a6d4969426b50534a744d5455774c6a51304c445179624441734d6a49754d546c734d6a55754e6a51354f546b734d4777774c4449314c6a5931624449794c6a45354c4442734d4377744e4463754f4452734c5451334c6a67304c4442364969382b43694167504842686447676761575139496e4e325a3138794d6949675a6d6c7362443069497a4d3259325a6b4d5349675a4430696254637a4c6a51354c4467354c6a6730624449314c6a59314c4442734d4377794e5334324e446b354f5777744d6a55754e6a55734d4777774c4330794e5334324e446b354f586f694c7a344b4943413863474630614342705a44306963335a6e587a497a4969426d615778735053496a4e6a493059575a6d4969426b50534a744e4463754f4451734e6a51754d546c734d6a55754e6a55734d4777774c4330794d6934784f5777744e4463754f4451734d4777774c4451334c6a6730624449794c6a45354c4442734d4377744d6a55754e6a56364969382b43694167504842686447676761575139496e4e325a3138794e4349675a6d6c7362443069497a59794e47466d5a6949675a443069625451334c6a67304c4445784e5334304f5777744d6a49754d546b734d4777774c4451334c6a6730624451334c6a67304c4442734d4377744d6a49754d546c734c5449314c6a59314c4442734d4377744d6a55754e6a56364969382b436941384c32632b436a777663335a6e50673d3d266c6162656c436f6c6f723d7768697465)](https://modelscope.cn/studios/SwanLab/HivisionIDPhotos)、[![](https://camo.githubusercontent.com/12614179034ed51b726f5cd06db785a152f55349dcc01829ef6565189a3884dc/68747470733a2f2f7777772d732e75636c6f75642e636e2f323032352f30322f64626566386230376561336433313630303664396332323736356333636435335f313734303130343334323538342e737667)](https://www.compshare.cn/images-detail?ImageID=compshareImage-17jacgm4ju16&ytag=HG_GPU_HivisionIDPhotos)
  * 2024.11.20: Gradio Demo增加**打印排版** 选项卡，支持六寸、五寸、A4、3R、4R五种排版尺寸
  * 2024.11.16: API接口增加美颜参数
  * 2024.09.25: 增加**五寸相纸** 和**JPEG下载** 选项｜默认照片下载支持300DPI
  * 2024.09.24: API接口增加base64图像传入选项 | Gradio Demo增加**排版照裁剪线** 功能
  * 2024.09.22: Gradio Demo增加**野兽模式** ，可设置内存加载策略 | API接口增加**dpi、face_alignment** 参数
  * 2024.09.18: Gradio Demo增加**分享模版照** 功能、增加**美式证件照** 背景选项
  * 2024.09.17: Gradio Demo增加**自定义底色-HEX输入** 功能 | **（社区贡献）C++版本** - [HivisionIDPhotos-cpp](https://github.com/zjkhahah/HivisionIDPhotos-cpp) 贡献 by [zjkhahah](https://github.com/zjkhahah)
  * 2024.09.16: Gradio Demo增加**人脸旋转对齐** 功能，自定义尺寸输入支持**毫米** 单位


# 项目简介
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#项目简介)
> 🚀 谢谢你对我们的工作感兴趣。您可能还想查看我们在图像领域的其他成果，欢迎来信:zeyi.lin@swanhub.co.
HivisionIDPhoto 旨在开发一种实用、系统性的证件照智能制作算法。
它利用一套完善的AI模型工作流程，实现对多种用户拍照场景的识别、抠图与证件照生成。
**HivisionIDPhoto 可以做到：**
  1. 轻量级抠图（纯离线，仅需 **CPU** 即可快速推理）
  2. 根据不同尺寸规格生成不同的标准证件照、六寸排版照
  3. 支持 纯离线 或 端云 推理
  4. 美颜
  5. 智能换正装（waiting）


[![](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/demo.png)](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/assets/demo.png)
如果 HivisionIDPhoto 对你有帮助，请 star 这个 repo 或推荐给你的朋友，解决证件照应急制作问题！
# 🏠 社区
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-社区)
我们分享了一些由社区构建的HivisionIDPhotos的有趣应用和扩展：
[HivisionIDPhotos-ComfyUI](https://github.com/AIFSH/HivisionIDPhotos-ComfyUI) | [HivisionIDPhotos-wechat-weapp](https://github.com/no1xuan/HivisionIDPhotos-wechat-weapp)  
---|---  
[ ![ComfyUI workflow](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/comfyui.png) ](https://github.com/AIFSH/HivisionIDPhotos-ComfyUI) | [ ![ComfyUI workflow](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/community-wechat-miniprogram.png) ](https://github.com/no1xuan/HivisionIDPhotos-wechat-weapp)  
ComfyUI证件照处理工作流 | 证件照微信小程序（JAVA后端+原生前端）  
[HivisionIDPhotos-Uniapp](https://github.com/soulerror/HivisionIDPhotos-Uniapp) | [HivisionIDPhotos-web](https://github.com/jkm199/HivisionIDPhotos-web)  
---|---  
[ ![HivisionIDPhotos-uniapp](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/community-uniapp-wechat-miniprogram.png) ](https://github.com/soulerror/HivisionIDPhotos-Uniapp) | [ ![HivisionIDPhotos-uniapp](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/community-web.png) ](https://github.com/jkm199/HivisionIDPhotos-web)  
证件照微信小程序（uniapp） | 证件照应用网页版  
  * [HivisionIDPhotos-cpp](https://github.com/zjkhahah/HivisionIDPhotos-cpp): HivisionIDphotos C++版本，由 [zjkhahah](https://github.com/zjkhahah) 构建
  * [ai-idphoto](https://github.com/wmlcjj/ai-idphoto): [HivisionIDPhotos-wechat-weapp](https://github.com/no1xuan/HivisionIDPhotos-wechat-weapp) 的uniapp多端兼容版，由 [wmlcjj](https://github.com/wmlcjj) 贡献
  * [HivisionIDPhotos-uniapp-WeChat-gpto1](https://github.com/jkm199/HivisionIDPhotos-uniapp-WeChat-gpto1/): 由gpt-o1辅助完成开发的证件照微信小程序，由 [jkm199](https://github.com/jkm199) 贡献
  * [HivisionIDPhotos-windows-GUI](https://github.com/zhaoyun0071/HivisionIDPhotos-windows-GUI)：Windows客户端应用，由 [zhaoyun0071](https://github.com/zhaoyun0071) 构建
  * [HivisionIDPhotos-NAS](https://github.com/ONG-Leo/HivisionIDPhotos-NAS): 群晖NAS部署中文教程，由 [ONG-Leo](https://github.com/ONG-Leo) 贡献


# 🔧 准备工作
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-准备工作)
环境安装与依赖：
  * Python >= 3.7（项目主要测试在 python 3.10）
  * OS: Linux, Windows, MacOS


## 1. 克隆项目
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#1-克隆项目)
```
git clone https://github.com/Zeyi-Lin/HivisionIDPhotos.git
cd HivisionIDPhotos
```

## 2. 安装依赖环境
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#2-安装依赖环境)
> 建议 conda 创建一个 python3.10 虚拟环境后，执行以下命令
```
pip install -r requirements.txt
pip install -r requirements-app.txt
```

## 3. 下载人像抠图模型权重文件
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#3-下载人像抠图模型权重文件)
**方式一：脚本下载**
```
python scripts/download_model.py --models all
# 如需指定下载某个模型
# python scripts/download_model.py --models modnet_photographic_portrait_matting
```

**方式二：直接下载**
模型均存到项目的`hivision/creator/weights`目录下：
人像抠图模型 | 介绍 | 下载  
---|---|---  
MODNet | [MODNet](https://github.com/ZHKKKe/MODNet)官方权重 | [下载](https://github.com/Zeyi-Lin/HivisionIDPhotos/releases/download/pretrained-model/modnet_photographic_portrait_matting.onnx)(24.7MB)  
hivision_modnet | 对纯色换底适配性更好的抠图模型 | [下载](https://github.com/Zeyi-Lin/HivisionIDPhotos/releases/download/pretrained-model/hivision_modnet.onnx)(24.7MB)  
rmbg-1.4 | [BRIA AI](https://huggingface.co/briaai/RMBG-1.4) 开源的抠图模型 | [下载](https://huggingface.co/briaai/RMBG-1.4/resolve/main/onnx/model.onnx?download=true)(176.2MB)后重命名为`rmbg-1.4.onnx`  
birefnet-v1-lite | [ZhengPeng7](https://github.com/ZhengPeng7/BiRefNet) 开源的抠图模型，拥有最好的分割精度 | [下载](https://github.com/ZhengPeng7/BiRefNet/releases/download/v1/BiRefNet-general-bb_swin_v1_tiny-epoch_232.onnx)(224MB)后重命名为`birefnet-v1-lite.onnx`  
> 如果下载网速不顺利：前往[SwanHub](https://swanhub.co/ZeYiLin/HivisionIDPhotos_models/tree/main)下载。
## 4. 人脸检测模型配置（可选）
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#4-人脸检测模型配置可选)
拓展人脸检测模型 | 介绍 | 使用文档  
---|---|---  
MTCNN | **离线** 人脸检测模型，高性能CPU推理（毫秒级），为默认模型，检测精度较低 | Clone此项目后直接使用  
RetinaFace | **离线** 人脸检测模型，CPU推理速度中等（秒级），精度较高 | [下载](https://github.com/Zeyi-Lin/HivisionIDPhotos/releases/download/pretrained-model/retinaface-resnet50.onnx)后放到`hivision/creator/retinaface/weights`目录下  
Face++ | 旷视推出的在线人脸检测API，检测精度较高，[官方文档](https://console.faceplusplus.com.cn/documents/4888373) | [使用文档](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/docs/face++_CN.md)  
## 5. 性能参考
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#5-性能参考)
> 测试环境为Mac M1 Max 64GB，非GPU加速，测试图片分辨率为 512x715(1) 与 764×1146(2)。
模型组合 | 内存占用 | 推理时长(1) | 推理时长(2)  
---|---|---|---  
MODNet + mtcnn | 410MB | 0.207s | 0.246s  
MODNet + retinaface | 405MB | 0.571s | 0.971s  
birefnet-v1-lite + retinaface | 6.20GB | 7.063s | 7.128s  
## 6. GPU推理加速（可选）
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#6-gpu推理加速可选)
在当前版本，可被英伟达GPU加速的模型为`birefnet-v1-lite`，并请确保你有16GB左右的显存。
如需使用英伟达GPU加速推理，在确保你已经安装[CUDA](https://developer.nvidia.com/cuda-downloads)与[cuDNN](https://developer.nvidia.com/cudnn)后，根据[onnxruntime-gpu文档](https://onnxruntime.ai/docs/execution-providers/CUDA-ExecutionProvider.html#cuda-12x)找到对应的`onnxruntime-gpu`版本安装，以及根据[pytorch官网](https://pytorch.org/get-started/locally/)找到对应的`torch`版本安装。
```
# 假如你的电脑安装的是CUDA 12.x, cuDNN 8
# 安装torch是可选的，如果你始终配置不好cuDNN，那么试试安装torch
pip install onnxruntime-gpu==1.18.0
pip install torch --index-url https://download.pytorch.org/whl/cu121
```

完成安装后，调用`birefnet-v1-lite`模型即可利用GPU加速推理。
> TIPS: CUDA 支持向下兼容。比如你的 CUDA 版本为 12.6，`torch` 官方目前支持的最高版本为 12.4（<12.6），`torch`仍可以正常使用CUDA。
# ⚡️ 运行 Gradio Demo
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#️-运行-gradio-demo)
```
python app.py
```

运行程序将生成一个本地 Web 页面，在页面中可完成证件照的操作与交互。
[![](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/harry.png)](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/assets/harry.png)
# 🚀 Python 推理
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-python-推理)
核心参数：
  * `-i`: 输入图像路径
  * `-o`: 保存图像路径
  * `-t`: 推理类型，有idphoto、human_matting、add_background、generate_layout_photos可选
  * `--matting_model`: 人像抠图模型权重选择
  * `--face_detect_model`: 人脸检测模型选择


更多参数可通过`python inference.py --help`查看
## 1. 证件照制作
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#1-证件照制作)
输入 1 张照片，获得 1 张标准证件照和 1 张高清证件照的 4 通道透明 png
```
python inference.py -i demo/images/test0.jpg -o ./idphoto.png --height 413 --width 295
```

## 2. 人像抠图
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#2-人像抠图)
输入 1 张照片，获得 1张 4 通道透明 png
```
python inference.py -t human_matting -i demo/images/test0.jpg -o ./idphoto_matting.png --matting_model hivision_modnet
```

## 3. 透明图增加底色
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#3-透明图增加底色)
输入 1 张 4 通道透明 png，获得 1 张增加了底色的 3通道图像
```
python inference.py -t add_background -i ./idphoto.png -o ./idphoto_ab.jpg -c 4f83ce -k 30 -r 1
```

## 4. 得到六寸排版照
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#4-得到六寸排版照)
输入 1 张 3 通道照片，获得 1 张六寸排版照
```
python inference.py -t generate_layout_photos -i ./idphoto_ab.jpg -o ./idphoto_layout.jpg --height 413 --width 295 -k 200
```

## 5. 证件照裁剪
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#5-证件照裁剪)
输入 1 张 4 通道照片（抠图好的图像），获得 1 张标准证件照和 1 张高清证件照的 4 通道透明 png
```
python inference.py -t idphoto_crop -i ./idphoto_matting.png -o ./idphoto_crop.png --height 413 --width 295
```

# ⚡️ 部署 API 服务
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#️-部署-api-服务)
## 启动后端
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#启动后端)
```
python deploy_api.py

```

## 请求 API 服务
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#请求-api-服务)
详细请求方式请参考 [API 文档](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/docs/api_CN.md)，包含以下请求示例：
  * [cURL](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/docs/api_CN.md#curl-%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B)
  * [Python](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/docs/api_CN.md#python-%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B)


# 🐳 Docker 部署
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-docker-部署)
## 1. 拉取或构建镜像
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#1-拉取或构建镜像)
> 以下方式三选一
**方式一：拉取最新镜像：**
```
docker pull linzeyi/hivision_idphotos
```

**方式二：Dockrfile 直接构建镜像：**
在确保将至少一个[抠图模型权重文件](https://github.com/Zeyi-Lin/HivisionIDPhotos#3-%E4%B8%8B%E8%BD%BD%E6%9D%83%E9%87%8D%E6%96%87%E4%BB%B6)放到`hivision/creator/weights`下后，在项目根目录执行：
```
docker build -t linzeyi/hivision_idphotos .
```

**方式三：Docker compose 构建：**
在确保将至少一个[抠图模型权重文件](https://github.com/Zeyi-Lin/HivisionIDPhotos#3-%E4%B8%8B%E8%BD%BD%E6%9D%83%E9%87%8D%E6%96%87%E4%BB%B6)放到`hivision/creator/weights`下后，在项目根目录下执行：
```
docker compose build
```

## 2. 运行服务
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#2-运行服务)
**启动 Gradio Demo 服务**
运行下面的命令，在你的本地访问 [http://127.0.0.1:7860](http://127.0.0.1:7860/) 即可使用。
```
docker run -d -p 7860:7860 linzeyi/hivision_idphotos
```

**启动 API 后端服务**
```
docker run -d -p 8080:8080 linzeyi/hivision_idphotos python3 deploy_api.py
```

**两个服务同时启动**
```
docker compose up -d
```

## 环境变量
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#环境变量)
本项目提供了一些额外的配置项，使用环境变量进行设置：
环境变量 | 类型 | 描述 | 示例  
---|---|---|---  
FACE_PLUS_API_KEY | 可选 | 这是你在 Face++ 控制台申请的 API 密钥 | `7-fZStDJ····`  
FACE_PLUS_API_SECRET | 可选 | Face++ API密钥对应的Secret | `VTee824E····`  
RUN_MODE | 可选 | 运行模式，可选值为`beast`(野兽模式)。野兽模式下人脸检测和抠图模型将不释放内存，从而获得更快的二次推理速度。建议内存16GB以上尝试。 | `beast`  
DEFAULT_LANG | 可选 | Gradio Demo启动时的默认语言 | `en`  
docker使用环境变量示例：
```
docker run -d -p 7860:7860 \
  -e FACE_PLUS_API_KEY=7-fZStDJ···· \
  -e FACE_PLUS_API_SECRET=VTee824E···· \
  -e RUN_MODE=beast \
  -e DEFAULT_LANG=en \
  linzeyi/hivision_idphotos 
```

# FAQ
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#faq)
## 1. 如何修改预设尺寸和颜色？
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#1-如何修改预设尺寸和颜色)
  * 尺寸：修改[size_list_CN.csv](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/demo/assets/size_list_CN.csv)后再次运行 `app.py` 即可，其中第一列为尺寸名，第二列为高度，第三列为宽度。
  * 颜色：修改[color_list_CN.csv](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/demo/assets/color_list_CN.csv)后再次运行 `app.py` 即可，其中第一列为颜色名，第二列为Hex值。


## 2. 如何修改水印字体？
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#2-如何修改水印字体)
  1. 将字体文件放到`hivision/plugin/font`文件夹下
  2. 修改`hivision/plugin/watermark.py`的`font_file`参数值为字体文件名


## 3. 如何添加社交媒体模板照？
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#3-如何添加社交媒体模板照)
  1. 将模板图片放到`hivision/plugin/template/assets`文件夹下。模板图片是一个4通道的透明png。
  2. 在`hivision/plugin/template/assets/template_config.json`文件中添加最新的模板信息，其中`width`为模板图宽度(px)，`height`为模板图高度(px)，`anchor_points`为模板中透明区域的四个角的坐标(px)；`rotation`为透明区域相对于垂直方向的旋转角度，>0为逆时针，<0为顺时针。
  3. 在`demo/processor.py`的`_generate_image_template`函数中的`TEMPLATE_NAME_LIST`变量添加最新的模板名


[![](https://github.com/Zeyi-Lin/HivisionIDPhotos/raw/master/assets/social_template.png)](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/assets/social_template.png)
## 4. 如何修改Gradio Demo的顶部导航栏？
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#4-如何修改gradio-demo的顶部导航栏)
  * 修改`demo/assets/title.md`


## 5. 如何添加/修改「打印排版」中的尺寸？
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#5-如何添加修改打印排版中的尺寸)
  * 修改`demo/locales.py`中的`print_switch`字典，添加/修改新的尺寸名称和尺寸参数，然后重新运行`python app.py`


# 📧 联系我们
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-联系我们)
如果您有任何问题，请发邮件至 zeyi.lin@swanhub.co
# 🙏 感谢支持
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-感谢支持)
[![Stargazers repo roster for @Zeyi-Lin/HivisionIDPhotos](https://camo.githubusercontent.com/de4efdde0ba6a20e64c2da9bcd0d08ee0e432c348ffe363d706910c468aa48a8/68747470733a2f2f7265706f726f737465722e636f6d2f73746172732f5a6579692d4c696e2f4869766973696f6e494450686f746f73)](https://github.com/Zeyi-Lin/HivisionIDPhotos/stargazers)
[![Forkers repo roster for @Zeyi-Lin/HivisionIDPhotos](https://camo.githubusercontent.com/5141bf00e2bed99bc8b588751120aebd90dacb744694ae9f9b338b29be5b04c5/68747470733a2f2f7265706f726f737465722e636f6d2f666f726b732f5a6579692d4c696e2f4869766973696f6e494450686f746f73)](https://github.com/Zeyi-Lin/HivisionIDPhotos/network/members)
[![Star History Chart](https://camo.githubusercontent.com/19ad37011092c322f66584b9a76b498cd3d0dcd72e6e8f38d9af4edaf370d6b7/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d5a6579692d4c696e2f4869766973696f6e494450686f746f7326747970653d44617465)](https://star-history.com/#Zeyi-Lin/HivisionIDPhotos&Date)
贡献者们：
[ ![](https://camo.githubusercontent.com/e2e05f7f5f80fdf35730cbe7774a8481cc66ca2312b6b95d3c70e9e234cf9daa/68747470733a2f2f636f6e747269622e726f636b732f696d6167653f7265706f3d5a6579692d4c696e2f4869766973696f6e494450686f746f73) ](https://github.com/Zeyi-Lin/HivisionIDPhotos/graphs/contributors)
[Zeyi-Lin](https://github.com/Zeyi-Lin)、[SAKURA-CAT](https://github.com/SAKURA-CAT)、[Feudalman](https://github.com/Feudalman)、[swpfY](https://github.com/swpfY)、[Kaikaikaifang](https://github.com/Kaikaikaifang)、[ShaohonChen](https://github.com/ShaohonChen)、[KashiwaByte](https://github.com/KashiwaByte)
# 📜 Lincese
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-lincese)
This repository is licensed under the [Apache-2.0 License](https://github.com/Zeyi-Lin/HivisionIDPhotos/blob/master/LICENSE).
# 📚 引用
[](https://github.com/Zeyi-Lin/HivisionIDPhotos#-引用)
如果您在研究或项目中使用了HivisionIDPhotos，请考虑引用我们的工作。您可以使用以下BibTeX条目：
```
@misc{hivisionidphotos,
   title={{HivisionIDPhotos: A Lightweight and Efficient AI ID Photos Tool}},
   author={Zeyi Lin and SwanLab Team},
   year={2024},
   publisher={GitHub},
   url = {\url{https://github.com/Zeyi-Lin/HivisionIDPhotos}},
}
```

## About
⚡️HivisionIDPhotos: a lightweight and efficient AI ID photos tools. 一个轻量级的AI证件照制作算法。 
[huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos](https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos "https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos")
### Topics
[ docker ](https://github.com/topics/docker "Topic: docker") [ demo ](https://github.com/topics/demo "Topic: demo") [ machine-learning ](https://github.com/topics/machine-learning "Topic: machine-learning") [ tools ](https://github.com/topics/tools "Topic: tools") [ cnn ](https://github.com/topics/cnn "Topic: cnn") [ face-recognition ](https://github.com/topics/face-recognition "Topic: face-recognition") [ unet ](https://github.com/topics/unet "Topic: unet") [ gradio ](https://github.com/topics/gradio "Topic: gradio") [ matting ](https://github.com/topics/matting "Topic: matting") [ mtcnn ](https://github.com/topics/mtcnn "Topic: mtcnn") [ fastapi ](https://github.com/topics/fastapi "Topic: fastapi") [ idphoto ](https://github.com/topics/idphoto "Topic: idphoto")
### Resources
[ Readme ](https://github.com/Zeyi-Lin/HivisionIDPhotos#readme-ov-file)
### License
[ Apache-2.0 license ](https://github.com/Zeyi-Lin/HivisionIDPhotos#Apache-2.0-1-ov-file)
[ Activity](https://github.com/Zeyi-Lin/HivisionIDPhotos/activity)
### Stars
[ **15.3k** stars](https://github.com/Zeyi-Lin/HivisionIDPhotos/stargazers)
### Watchers
[ **72** watching](https://github.com/Zeyi-Lin/HivisionIDPhotos/watchers)
### Forks
[ **1.6k** forks](https://github.com/Zeyi-Lin/HivisionIDPhotos/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FZeyi-Lin%2FHivisionIDPhotos&report=Zeyi-Lin+%28user%29)
##  [Releases 17](https://github.com/Zeyi-Lin/HivisionIDPhotos/releases)
[ v1.3.1 Latest  Jan 21, 2025 ](https://github.com/Zeyi-Lin/HivisionIDPhotos/releases/tag/v1.3.1)
[+ 16 releases](https://github.com/Zeyi-Lin/HivisionIDPhotos/releases)
##  [Packages 0](https://github.com/users/Zeyi-Lin/packages?repo_name=HivisionIDPhotos)
No packages published 
##  [Contributors 24](https://github.com/Zeyi-Lin/HivisionIDPhotos/graphs/contributors)
  * [ ![@Zeyi-Lin](https://avatars.githubusercontent.com/u/58305964?s=64&v=4) ](https://github.com/Zeyi-Lin)
  * [ ![@SAKURA-CAT](https://avatars.githubusercontent.com/u/79990647?s=64&v=4) ](https://github.com/SAKURA-CAT)
  * [ ![@swpfY](https://avatars.githubusercontent.com/u/55043165?s=64&v=4) ](https://github.com/swpfY)
  * [ ![@Nexisato](https://avatars.githubusercontent.com/u/50736785?s=64&v=4) ](https://github.com/Nexisato)
  * [ ![@houseme](https://avatars.githubusercontent.com/u/4829346?s=64&v=4) ](https://github.com/houseme)
  * [ ![@superiorlu](https://avatars.githubusercontent.com/u/1154692?s=64&v=4) ](https://github.com/superiorlu)
  * [ ![@521xueweihan](https://avatars.githubusercontent.com/u/8255800?s=64&v=4) ](https://github.com/521xueweihan)
  * [ ![@malobaidan](https://avatars.githubusercontent.com/u/13063899?s=64&v=4) ](https://github.com/malobaidan)
  * [ ![@dscao](https://avatars.githubusercontent.com/u/16587914?s=64&v=4) ](https://github.com/dscao)
  * [ ![@Jimmyqu](https://avatars.githubusercontent.com/u/21124327?s=64&v=4) ](https://github.com/Jimmyqu)
  * [ ![@eltociear](https://avatars.githubusercontent.com/u/22633385?s=64&v=4) ](https://github.com/eltociear)
  * [ ![@Ronaldoshuang](https://avatars.githubusercontent.com/u/23060328?s=64&v=4) ](https://github.com/Ronaldoshuang)
  * [ ![@shen774411223d](https://avatars.githubusercontent.com/u/23494847?s=64&v=4) ](https://github.com/shen774411223d)
  * [ ![@wangyc-pers](https://avatars.githubusercontent.com/u/45596336?s=64&v=4) ](https://github.com/wangyc-pers)


[+ 10 contributors](https://github.com/Zeyi-Lin/HivisionIDPhotos/graphs/contributors)
## Languages
  * [ Python 99.5% ](https://github.com/Zeyi-Lin/HivisionIDPhotos/search?l=python)
  * Other 0.5%


## Footer
[ ](https://github.com "GitHub") © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 
