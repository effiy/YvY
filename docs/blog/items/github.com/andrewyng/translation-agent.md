# 原始URL: https://github.com/andrewyng/translation-agent

# 抓取时间: 2025-03-30 21:15:40

[Skip to content](https://github.com/andrewyng/translation-agent#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fandrewyng%2Ftranslation-agent)
  * Product 
    * [ GitHub Copilot Write better code with AI  ](https://github.com/features/copilot)
    * [ Security Find and fix vulnerabilities  ](https://github.com/features/security)
    * [ Actions Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues Plan and track work  ](https://github.com/features/issues)
    * [ Code Review Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ Advanced Security Enterprise-grade security features  ](https://github.com/enterprise/advanced-security)
    * [ Copilot for business Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fandrewyng%2Ftranslation-agent)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=andrewyng%2Ftranslation-agent) Reseting focus
You signed in with another tab or window. [Reload](https://github.com/andrewyng/translation-agent) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/andrewyng/translation-agent) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/andrewyng/translation-agent) to refresh your session. Dismiss alert
{{ message }}
[ andrewyng ](https://github.com/andrewyng) / **[translation-agent](https://github.com/andrewyng/translation-agent) ** Public
  * [ Notifications ](https://github.com/login?return_to=%2Fandrewyng%2Ftranslation-agent) You must be signed in to change notification settings
  * [ Fork 642 ](https://github.com/login?return_to=%2Fandrewyng%2Ftranslation-agent)
  * [ Star  5.3k ](https://github.com/login?return_to=%2Fandrewyng%2Ftranslation-agent)


### License
[ MIT license ](https://github.com/andrewyng/translation-agent/blob/main/LICENSE)
[ 5.3k stars ](https://github.com/andrewyng/translation-agent/stargazers) [ 642 forks ](https://github.com/andrewyng/translation-agent/forks) [ Branches ](https://github.com/andrewyng/translation-agent/branches) [ Tags ](https://github.com/andrewyng/translation-agent/tags) [ Activity ](https://github.com/andrewyng/translation-agent/activity)
[ Star  ](https://github.com/login?return_to=%2Fandrewyng%2Ftranslation-agent)
[ Notifications ](https://github.com/login?return_to=%2Fandrewyng%2Ftranslation-agent) You must be signed in to change notification settings
  * [ Code ](https://github.com/andrewyng/translation-agent)
  * [ Issues 16 ](https://github.com/andrewyng/translation-agent/issues)
  * [ Pull requests 10 ](https://github.com/andrewyng/translation-agent/pulls)
  * [ Actions ](https://github.com/andrewyng/translation-agent/actions)
  * [ Projects 0 ](https://github.com/andrewyng/translation-agent/projects)
  * [ Security ](https://github.com/andrewyng/translation-agent/security)
  * [ Insights ](https://github.com/andrewyng/translation-agent/pulse)


Additional navigation options
  * [ Code  ](https://github.com/andrewyng/translation-agent)
  * [ Issues  ](https://github.com/andrewyng/translation-agent/issues)
  * [ Pull requests  ](https://github.com/andrewyng/translation-agent/pulls)
  * [ Actions  ](https://github.com/andrewyng/translation-agent/actions)
  * [ Projects  ](https://github.com/andrewyng/translation-agent/projects)
  * [ Security  ](https://github.com/andrewyng/translation-agent/security)
  * [ Insights  ](https://github.com/andrewyng/translation-agent/pulse)


# andrewyng/translation-agent
main
[Branches](https://github.com/andrewyng/translation-agent/branches)[Tags](https://github.com/andrewyng/translation-agent/tags)
[](https://github.com/andrewyng/translation-agent/branches)[](https://github.com/andrewyng/translation-agent/tags)
Go to file
Code
## Folders and files
Name| Name| Last commit message| Last commit date  
---|---|---|---  
## Latest commit
## History
[29 Commits](https://github.com/andrewyng/translation-agent/commits/main/)[](https://github.com/andrewyng/translation-agent/commits/main/)  
[.github](https://github.com/andrewyng/translation-agent/tree/main/.github ".github")| [.github](https://github.com/andrewyng/translation-agent/tree/main/.github ".github")  
[app](https://github.com/andrewyng/translation-agent/tree/main/app "app")| [app](https://github.com/andrewyng/translation-agent/tree/main/app "app")  
[examples](https://github.com/andrewyng/translation-agent/tree/main/examples "examples")| [examples](https://github.com/andrewyng/translation-agent/tree/main/examples "examples")  
[src/translation_agent](https://github.com/andrewyng/translation-agent/tree/main/src/translation_agent "This path skips through empty directories")| [src/translation_agent](https://github.com/andrewyng/translation-agent/tree/main/src/translation_agent "This path skips through empty directories")  
[tests](https://github.com/andrewyng/translation-agent/tree/main/tests "tests")| [tests](https://github.com/andrewyng/translation-agent/tree/main/tests "tests")  
[.env.sample](https://github.com/andrewyng/translation-agent/blob/main/.env.sample ".env.sample")| [.env.sample](https://github.com/andrewyng/translation-agent/blob/main/.env.sample ".env.sample")  
[.gitignore](https://github.com/andrewyng/translation-agent/blob/main/.gitignore ".gitignore")| [.gitignore](https://github.com/andrewyng/translation-agent/blob/main/.gitignore ".gitignore")  
[.pre-commit-config.yaml](https://github.com/andrewyng/translation-agent/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml")| [.pre-commit-config.yaml](https://github.com/andrewyng/translation-agent/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml")  
[CONTRIBUTING.md](https://github.com/andrewyng/translation-agent/blob/main/CONTRIBUTING.md "CONTRIBUTING.md")| [CONTRIBUTING.md](https://github.com/andrewyng/translation-agent/blob/main/CONTRIBUTING.md "CONTRIBUTING.md")  
[LICENSE](https://github.com/andrewyng/translation-agent/blob/main/LICENSE "LICENSE")| [LICENSE](https://github.com/andrewyng/translation-agent/blob/main/LICENSE "LICENSE")  
[README.md](https://github.com/andrewyng/translation-agent/blob/main/README.md "README.md")| [README.md](https://github.com/andrewyng/translation-agent/blob/main/README.md "README.md")  
[pyproject.toml](https://github.com/andrewyng/translation-agent/blob/main/pyproject.toml "pyproject.toml")| [pyproject.toml](https://github.com/andrewyng/translation-agent/blob/main/pyproject.toml "pyproject.toml")  
View all files  
## Repository files navigation
  * [README](https://github.com/andrewyng/translation-agent)
  * [MIT license](https://github.com/andrewyng/translation-agent)


# Translation Agent: Agentic translation using reflection workflow
[](https://github.com/andrewyng/translation-agent#translation-agent-agentic-translation-using-reflection-workflow)
This is a Python demonstration of a reflection agentic workflow for machine translation. The main steps are:
  1. Prompt an LLM to translate a text from `source_language` to `target_language`;
  2. Have the LLM reflect on the translation to come up with constructive suggestions for improving it;
  3. Use the suggestions to improve the translation.


## Customizability
[](https://github.com/andrewyng/translation-agent#customizability)
By using an LLM as the heart of the translation engine, this system is highly steerable. For example, by changing the prompts, it is easier using this workflow than a traditional machine translation (MT) system to:
  * Modify the output's style, such as formal/informal.
  * Specify how to handle idioms and special terms like names, technical terms, and acronyms. For example, including a glossary in the prompt lets you make sure particular terms (such as open source, H100 or GPU) are translated consistently.
  * Specify specific regional use of the language, or specific dialects, to serve a target audience. For example, Spanish spoken in Latin America is different from Spanish spoken in Spain; French spoken in Canada is different from how it is spoken in France.


**This is not mature software** , and is the result of Andrew playing around with translations on weekends the past few months, plus collaborators (Joaquin Dominguez, Nedelina Teneva, John Santerre) helping refactor the code.
According to our evaluations using BLEU score on traditional translation datasets, this workflow is sometimes competitive with, but also sometimes worse than, leading commercial offerings. However, we’ve also occasionally gotten fantastic results (superior to commercial offerings) with this approach. We think this is just a starting point for agentic translations, and that this is a promising direction for translation, with significant headroom for further improvement, which is why we’re releasing this demonstration to encourage more discussion, experimentation, research and open-source contributions.
If agentic translations can generate better results than traditional architectures (such as an end-to-end transformer that inputs a text and directly outputs a translation) -- which are often faster/cheaper to run than our approach here -- this also provides a mechanism to automatically generate training data (parallel text corpora) that can be used to further train and improve traditional algorithms. (See also [this article in The Batch](https://www.deeplearning.ai/the-batch/building-models-that-learn-from-themselves/) on using LLMs to generate training data.)
Comments and suggestions for how to improve this are very welcome!
## Getting Started
[](https://github.com/andrewyng/translation-agent#getting-started)
To get started with `translation-agent`, follow these steps:
### Installation:
[](https://github.com/andrewyng/translation-agent#installation)
  * The Poetry package manager is required for installation. [Poetry Installation](https://python-poetry.org/docs/#installation) Depending on your environment, this might work:


```
pip install poetry
```

  * A .env file with a OPENAI_API_KEY is required to run the workflow. See the .env.sample file as an example.


```
git clone https://github.com/andrewyng/translation-agent.git
cd translation-agent
poetry install
poetry shell # activates virtual environment
```

### Usage:
[](https://github.com/andrewyng/translation-agent#usage)
```
import translation_agent as ta
source_lang, target_lang, country = "English", "Spanish", "Mexico"
translation = ta.translate(source_lang, target_lang, source_text, country)
```

See examples/example_script.py for an example script to try out.
## License
[](https://github.com/andrewyng/translation-agent#license)
Translation Agent is released under the **MIT License**. You are free to use, modify, and distribute the code for both commercial and non-commercial purposes.
## Ideas for extensions
[](https://github.com/andrewyng/translation-agent#ideas-for-extensions)
Here are ideas we haven’t had time to experiment with but that we hope the open-source community will:
  * **Try other LLMs.** We prototyped this primarily using gpt-4-turbo. We would love for others to experiment with other LLMs as well as other hyperparameter choices and see if some do better than others for particular language pairs.
  * **Glossary Creation.** What’s the best way to efficiently build a glossary -- perhaps using an LLM -- of the most important terms that we want translated consistently? For example, many businesses use specialized terms that are not widely used on the internet and that LLMs thus don’t know about, and there are also many terms that can be translated in multiple ways. For example, ”open source” in Spanish can be “Código abierto” or “Fuente abierta”; both are fine, but it’d better to pick one and stick with it for a single document.
  * **Glossary Usage and Implementation.** Given a glossary, what’s the best way to include it in the prompt?
  * **Evaluations on different languages.** How does its performance vary in different languages? Are there changes that make it work better for particular source or target languages? (Note that for very high levels of performance, which MT systems are approaching, we’re not sure if BLEU is a great metric.) Also, its performance on lower resource languages needs further study.
  * **Error analysis.** We’ve found that specifying a language and a country/region (e.g., “Spanish as colloquially spoken in Mexico”) does a pretty good job for our applications. Where does the current approach fall short? We’re also particularly interested in understanding its performance on specialized topics (like law, medicine) or special types of text (like movie subtitles) to understand its limitations.
  * **Better evals.** Finally, we think better evaluations (evals) is a huge and important research topic. As with other LLM applications that generate free text, current evaluation metrics appear to fall short. For example, we found that even on documents where our agentic workflow captures context and terminology better, resulting in translations that our human raters prefer over current commercial offerings, evaluation at the sentence level (using the [FLORES](https://github.com/facebookresearch/flores) dataset) resulted in the agentic system scoring lower on BLEU. Can we design better metrics (perhaps using an LLM to evaluate translations?) that capture translation quality at a document level that correlates better with human preferences?


## Related work
[](https://github.com/andrewyng/translation-agent#related-work)
A few academic research groups are also starting to look at LLM-based and agentic translation. We think it’s early days for this field!
  * _ChatGPT MT: Competitive for High- (but not Low-) Resource Languages_ , Robinson et al. (2023), <https://arxiv.org/pdf/2309.07423>
  * _How to Design Translation Prompts for ChatGPT: An Empirical Study_ , Gao et al. (2023), <https://arxiv.org/pdf/2304.02182v2>
  * _Beyond Human Translation: Harnessing Multi-Agent Collaboration for Translating Ultra-Long Literary Texts_ , Wu et al. (2024), <https://arxiv.org/pdf/2405.11804>


## About
No description, website, or topics provided. 
### Resources
[ Readme ](https://github.com/andrewyng/translation-agent#readme-ov-file)
### License
[ MIT license ](https://github.com/andrewyng/translation-agent#MIT-1-ov-file)
[ Activity](https://github.com/andrewyng/translation-agent/activity)
### Stars
[ **5.3k** stars](https://github.com/andrewyng/translation-agent/stargazers)
### Watchers
[ **61** watching](https://github.com/andrewyng/translation-agent/watchers)
### Forks
[ **642** forks](https://github.com/andrewyng/translation-agent/forks)
[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fandrewyng%2Ftranslation-agent&report=andrewyng+%28user%29)
##  [Releases](https://github.com/andrewyng/translation-agent/releases)
No releases published
##  [Packages 0](https://github.com/users/andrewyng/packages?repo_name=translation-agent)
No packages published 
##  [Contributors 8](https://github.com/andrewyng/translation-agent/graphs/contributors)
  * [ ![@andrewyng](https://avatars.githubusercontent.com/u/3710007?s=64&v=4) ](https://github.com/andrewyng)
  * [ ![@j-dominguez9](https://avatars.githubusercontent.com/u/83036592?s=64&v=4) ](https://github.com/j-dominguez9)
  * [ ![@methanet](https://avatars.githubusercontent.com/u/1303109?s=64&v=4) ](https://github.com/methanet)
  * [ ![@johnsanterre](https://avatars.githubusercontent.com/u/1707840?s=64&v=4) ](https://github.com/johnsanterre)
  * [ ![@rdmueller](https://avatars.githubusercontent.com/u/1856308?s=64&v=4) ](https://github.com/rdmueller)
  * [ ![@Oreoxmt](https://avatars.githubusercontent.com/u/60599231?s=64&v=4) ](https://github.com/Oreoxmt)
  * [ ![@fzp0424](https://avatars.githubusercontent.com/u/102568752?s=64&v=4) ](https://github.com/fzp0424)
  * [ ![@snekkenull](https://avatars.githubusercontent.com/u/124278082?s=64&v=4) ](https://github.com/snekkenull)


## Languages
  * [ Python 100.0% ](https://github.com/andrewyng/translation-agent/search?l=python)


## Footer
[ ](https://github.com "GitHub") © 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


You can’t perform that action at this time. 
